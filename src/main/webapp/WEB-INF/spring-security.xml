<beans:beans xmlns:beans="http://www.springframework.org/schema/beans" 
			 xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
			 xmlns="http://www.springframework.org/schema/security" 
			 xsi:schemalocation="http://www.springframework.org/schema/beans
								 http://www.springframework.org/schema/beans/spring-beans-3.2.xsd
								 http://www.springframework.org/schema/security
								 http://www.springframework.org/schema/security/spring-security-3.1.xsd">
 
	<beans:bean class="org.springframework.security.web.FilterChainProxy" id="springSecurityFilterChain">
		<filter-chain-map path-type="ant">
			<filter-chain filters="securityContextPersistenceFilter" pattern="/*"></filter-chain>
		</filter-chain-map>
	 </beans:bean>
	<beans:bean class="org.springframework.security.web.context.SecurityContextPersistenceFilter" id="securityContextPersistenceFilter">
	 	<beans:property name="forceEagerSessionCreation" value="true"></beans:property>
	</beans:bean>
 
	<http pattern="/javax.faces.resource/**" security="none"></http>
	<http pattern="/file/**" security="none"></http>
	<http auto-config="true" use-expressions="true">
	 	<form-login login-page="/login"></form-login>
		<logout logout-url="/logout"></logout>
		<intercept-url access="permitAll" pattern="/login"></intercept-url>
		<intercept-url access="hasRole('ROLE_ADMIN')" pattern="/employee/**"></intercept-url>
		<intercept-url access="hasRole('ROLE_USER')" pattern="/**"></intercept-url>
		<access-denied-handler ref="customAccessDeniedHandler"></access-denied-handler>
		<remember-me key="myAppKey" user-service-ref="customUserDetailsService"></remember-me>
	</http>
 
</beans:beans>